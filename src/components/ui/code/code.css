@keyframes reveal {
	0% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}

.wrapper {
	background: var(--color-body);
	overflow: auto;
	scroll-timeline: --scroll-timeline inline;
	display: flex;
	border-radius: var(--border-radius);
	box-shadow: var(--shadow);
	--shadow-color: 40 15% 10%;
}

.left-shadow {
	position: sticky;
	left: 0;
	width: 32px;
	margin-inline-start: -32px;
	animation: reveal linear both;
	animation-range: 0 8px;
	animation-timeline: --scroll-timeline;
	opacity: 0;
	flex: none;
	box-shadow: 2px 0 2px hsl(var(--shadow-color) / 1);
}

.left-border {
	position: sticky;
	left: 0;
	flex: none;
	border-inline-end: 1px solid var(--color-subtle);
	z-index: 1;
}

.pre {
	padding: var(--size-8);

	&.line-numbers {
		padding-inline-start: 0;
	}
}

.line {
	display: flex;

	& .line-number {
		color: var(--color-subtle);
		background: var(--color-body);
		user-select: none;
		padding-inline: var(--size-8);
		text-align: right;
		box-sizing: content-box;
		position: sticky;
		left: 0;
		margin-inline-end: var(--size-8);
	}
}

.right-shadow {
	position: sticky;
	right: 0;
	width: 4px;
	animation: reveal linear both;
	animation-range: calc(100% - 8px) 100%;
	animation-direction: reverse;
	animation-timeline: --scroll-timeline;
	opacity: 0;
	flex: none;
	background: linear-gradient(90deg, transparent, hsl(var(--shadow-color)));
}
